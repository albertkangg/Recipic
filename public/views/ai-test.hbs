<!DOCTYPE html>
<html>
    <head>
        <title>Recipic</title>
        <link rel="shortcut icon" type="image/png" sizes="32x32" href="/img/recipic favicon (1).svg">
    </head>
    <body>
        <h1>Welcome to ReciPic.</h1>
        <img id="food" src="/img/dumpling.jpg">
        <p id="result"></p>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/addons/p5.sound.min.js"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>    
    <script>
        // Step 1: Create an image classifier with MobileNet
        const classifier = ml5.imageClassifier("/model.json", modelLoaded);

        // Step 2: select an image
        const img = document.getElementById("food");
        const text = document.getElementById("result")

        // Step 3: Make a prediction
        let prediction = classifier.predict(img, gotResults);

        function gotResults(err, results) {
            console.log(results[0].label);
            result.innerHTML = results[0].label;
        }

        function modelLoaded() {
            console.log('Model Loaded!');
        }
    </script>
</html>